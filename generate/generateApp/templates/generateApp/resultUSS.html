<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Result User Story Scenario</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/2.5.0/remixicon.min.css">
    <link rel="stylesheet" href="{% static 'css/resultUSS.css' %}">
</head>
<body>
    <header class="main-header">
        <div class="logo">
            <img src="logoo.png" alt="Generate Logo" class="logo-image">
        </div>
        <nav class="nav-links">
            <a href="#">Home</a>
            <a href="#">About</a>
            <a href="#">Pages</a>
            <a href="#">Blog</a>
            <a href="#">My Projects</a>
        </nav>
        <div class="profile-icon">
            <i class="ri-account-circle-line"></i>
        </div>
    </header>

    <div class="container">
        <div class="back">
            <i class="ri-arrow-left-line"></i>
        </div>

        <div>
            <h1>Result <span>User Story Scenario</span></h1>
        </div>

        {% if scenarios %}
            {% for scenario in scenarios %}
            <div class="text">
                <h2>{{ scenario.fitur_user_story_scenario }}</h2>
                <ul>
                    {% for given in scenario.givens.all %}
                    <li><strong>Given:</strong> {{ given.description }}</li>
                    <ul>
                        {% for when in given.whens.all %}
                        <li><strong>When:</strong> {{ when.description }}</li>
                        <ul>
                            {% for then in when.thens.all %}
                            <li><strong>Then:</strong> {{ then.description }}</li>
                            <ul>
                                {% for and_instance in then.ands.all %}
                                <li><strong>And:</strong> {{ and_instance.description }}</li>
                                {% endfor %}
                            </ul>
                            {% endfor %}
                        </ul>
                        {% endfor %}
                    </ul>
                    {% endfor %}
                </ul>
            </div>
            {% endfor %}
        {% else %}
            <p>No scenarios found.</p>
        {% endif %}

        <form class="user-story-form">
            <button type="button" class="save-button" id="homeButton" data-url="{% url 'homepage' %}">Go to Homepage</button>
            <button type="button" class="save-button" id="activityButton" data-url="{% url 'activity' %}">Generate to Activity</button>
        </form>
    </div>

    <script>
        document.getElementById('homeButton').addEventListener('click', function() {
            var url = this.getAttribute('data-url');
            window.location.href = url;
        });

        document.getElementById('activityButton').addEventListener('click', function() {
            var url = this.getAttribute('data-url');
            window.location.href = url;
        });
    </script>
</body>
</html>
